# フォント設定ガイド

## 概要
このプロジェクトでは、matplotlibでの日本語表示のために、`assets/fonts`フォルダにTTF/OTFフォントファイルを配置して使用します。

## フォントファイルの設置

### 1. フォルダ構造
```
project-root/
├── assets/
│   └── fonts/
│       ├── ipaexg.ttf
├── src/
└── ...
```

### 2. 推奨フォント
以下のフォントがオープンソースで利用可能です：

- **IPAexフォント**: 日本の情報処理推進機構が提供
  - ダウンロード: [IPA Font](https://moji.or.jp/ipafont/)

### 3. フォントファイルの取得と設置手順

1. 上記のリンクから日本語フォントをダウンロード
2. TTFまたはOTFファイルを `assets/fonts/` フォルダに配置
3. ファイル名は任意（拡張子は .ttf または .otf）

### 4. 動作確認
アプリケーションを起動すると、コンソールに以下のようなメッセージが表示されます：

```
カスタムフォント読み込み成功: Noto Sans CJK JP (NotoSansCJK-Regular.ttf)
```

フォントが見つからない場合は、システムフォントにフォールバックします：

```
システムフォント使用: DejaVu Sans
```

## Azure App Service デプロイ時の注意点

1. `assets/fonts/` フォルダがデプロイパッケージに含まれることを確認
2. フォントファイルのサイズが大きい場合、デプロイ時間が長くなる可能性があります
3. 必要最小限のフォントファイルのみを含めることを推奨

## トラブルシューティング

### フォントが読み込まれない場合
1. ファイルパスが正しいか確認
2. フォントファイルが破損していないか確認
3. matplotlibのバージョンを確認（古いバージョンでは一部機能が利用できない場合があります）

### 文字化けが発生する場合
1. フォントファイルが日本語に対応しているか確認
2. `plt.rcParams["axes.unicode_minus"] = False` の設定が有効になっているか確認
